windows
 PsSetCreateProcessNotifyRoutine(ProcessCallback, TRUE);
 PsLookupProcessByProcessId
  PsGetProcessId


enum: 
ZwQuerySystemInformation
SYSTEM_PROCESS_INFORMATION


IoThreadToProcess
IoIsSystemThread

http://www.informit.com/articles/article.aspx?p=22442&seqNum=5